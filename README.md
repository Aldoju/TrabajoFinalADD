CREATE DATABASE HcHs
ON PRIMARY
(
NAME=hospi_dat,
FILENAME='C:\HCHR\HcHs.mdf',
SIZE=6,
MAXSIZE=12,
FILEGROWTH=1
)
LOG ON
(
NAME=hospi_log,
FILENAME='C:\HCHR\HcHs.ldf',
SIZE=3,
MAXSIZE=5,
FILEGROWTH=1
)
Go
Use HcHs
Go

CREATE TABLE Servicio (
        codigoPrestacion INTEGER NOT NULL IDENTITY (1,1),
		nombre VARCHAR(40) NOT NULL,
		disponibilidad CHAR(2) NOT NULL,
		codigoRenaes INTEGER NOT NULL
	)
GO

CREATE TABLE ESTABLECIMIENTO_SALUD_DESTINO (
		codigoRenaes INTEGER NOT NULL
	)
GO

CREATE TABLE ESTABLECIMIENTO_SALUD_ORIGEN (
		codigoRenaes INTEGER NOT NULL
	)
GO

CREATE TABLE RECIEN_NACIDO (
		PACIENTE_ID INTEGER NOT NULL,
		edadGestacional INTEGER NOT NULL,
		corteTardioCordon CHAR(1) NOT NULL

		
	)
GO

CREATE TABLE PACIENTE_FEMENINO (
		PACIENTE_ID INTEGER NOT NULL,
		saludMaterna CHAR(15) NULL,
		alturaUterina INTEGER NULL,
		edadGestacional INTEGER NULL,
		fechaProbableParto DATETIME NULL,
		partoVertical CHAR(2) NULL
	)
GO

CREATE TABLE Adolescente (
		PACIENTE_ID INTEGER NOT NULL,
		perimetroAbdominal VARCHAR(10) NULL,
		IMC VARCHAR(10) NULL,
	)
GO

CREATE TABLE Paciente (
		PACIENTE_ID INTEGER NOT NULL IDENTITY (1,1),
		numeroHistoriaClinica INTEGER NOT NULL,
		nombres VARCHAR(50) NOT NULL,
		apellidos VARCHAR(50) NOT NULL,
		edad INTEGER NOT NULL,
		sexo CHAR(1) NOT NULL,
		fechaNacimiento DATETIME NOT NULL,
		correoElectronico VARCHAR(30) NOT NULL,
		dni INTEGER NOT NULL,
		codigoSIS INTEGER NOT NULL,
		estadoSeguro VARCHAR(10) NOT NULL,
		etnia VARCHAR(15) NOT NULL
	)
GO

CREATE TABLE ADMISIONISTA_HOSPITAL (
		codAdmiD INTEGER NOT NULL IDENTITY (1,1),
		nombres VARCHAR(30) NOT NULL,
		apellidos VARCHAR(50) NOT NULL,
		codigoRenaes INTEGER NOT NULL
	)
GO

CREATE TABLE Cita (
		numeroCita INTEGER NOT NULL IDENTITY (13412,1),
		nombreServicio VARCHAR(40) NOT NULL,
		lugarAtencion VARCHAR(30) NOT NULL,
		atencion VARCHAR(20) NOT NULL,
		hora VARCHAR(20) NOT NULL,
		fechaIngreso DATETIME NOT NULL,
		fechaAlta DATETIME NULL,
		destinoAsegurado VARCHAR(30) NOT NULL,
		codigoEspecialista INTEGER NOT NULL,
		codAdmior INTEGER NOT NULL,
		codAdmiD INTEGER NOT NULL,
		PACIENTE_ID INTEGER NOT NULL
	)
GO

CREATE TABLE Especialista (
		codigoEspecialista INTEGER NOT NULL IDENTITY (1,1),
		nombres VARCHAR(30) NOT NULL,
		apellidos VARCHAR(50) NOT NULL,
		edad INTEGER NOT NULL,
		numeroCelular VARCHAR(9) NOT NULL,
		direccion VARCHAR(100) NOT NULL,
		especialidad VARCHAR(30) NOT NULL,
		a√±oContrato VARCHAR(4) NOT NULL,
		numeroColegiatura INTEGER NOT NULL,
		numeroRNE INTEGER NOT NULL,
		DEPARTAMENTODEPARTAMENTO_ID INTEGER NOT NULL
	)
GO

CREATE TABLE Departamento (
		DEPARTAMENTO_ID INTEGER NOT NULL IDENTITY (1,1),
		nombreDepartamento VARCHAR(50) NOT NULL
	)
GO

CREATE TABLE PRODUCTO_FARMACEUTICO (
		codigoMedicamento INTEGER NOT NULL IDENTITY (1,1),
		nombre VARCHAR(40) NOT NULL,
		concentracion VARCHAR(10) NOT NULL,
		formaFarmaceutica VARCHAR(30) NOT NULL,
		numeroCita INTEGER NOT NULL
	)
GO

CREATE TABLE Vacuna (
		codigoVacuna INTEGER NOT NULL IDENTITY (1,1),
		nombreVacuna VARCHAR(20) NOT NULL,
		numeroDosis INTEGER NOT NULL,
		numeroCita INTEGER NOT NULL
	)
GO

CREATE TABLE PRODUCTO_SANITARIO (
		codigoProductoSan INTEGER NOT NULL IDENTITY (1,1),
		nombre VARCHAR(30) NULL,
		presentacion VARCHAR(20) NULL,
		caracteristica VARCHAR(100) NULL,
		numeroCita INTEGER NOT NULL
	)
GO

CREATE TABLE Diagnostico (
		codigoDiagnostico INTEGER NOT NULL IDENTITY (1,1),
		afeccion VARCHAR(15) NOT NULL,
		tipoDiagnostico VARCHAR(10) NOT NULL,
		numeroCita INTEGER NOT NULL
	)
GO

CREATE TABLE ADMISIONISTA_HOSPITAL_ORIGEN (
		codAdmior INTEGER NOT NULL IDENTITY (1,1),
		nombres VARCHAR(40) NOT NULL,
		turnoTrabajo VARCHAR(20) NOT NULL,
		codigoRenaes INTEGER NOT NULL
	)
GO

CREATE TABLE ESTABLECIMIENTO_SALUD (
		codigoRenaes INTEGER NOT NULL,
		nombreEstablecimiento VARCHAR(70) NOT NULL,
		distrito VARCHAR(70) NOT NULL
		
	)
GO

ALTER TABLE Servicio ADD CONSTRAINT Servicio_PK PRIMARY KEY
	(codigoPrestacion)
GO

ALTER TABLE ESTABLECIMIENTO_SALUD_DESTINO ADD CONSTRAINT ESTABLECIMIENTO_SALUD_DESTINO_PK PRIMARY KEY
	(codigoRenaes)
GO

ALTER TABLE ESTABLECIMIENTO_SALUD_ORIGEN ADD CONSTRAINT ESTABLECIMIENTO_SALUD_ORIGEN_PK PRIMARY KEY
	(codigoRenaes)
GO

ALTER TABLE RECIEN_NACIDO ADD CONSTRAINT RECIEN_NACIDO_PK PRIMARY KEY
	(PACIENTE_ID)
GO

ALTER TABLE PACIENTE_FEMENINO ADD CONSTRAINT PACIENTE_FEMENINO_PK PRIMARY KEY
	(PACIENTE_ID)
GO

ALTER TABLE Adolescente ADD CONSTRAINT Adolescente_PK PRIMARY KEY
	(PACIENTE_ID)
GO

ALTER TABLE Paciente ADD CONSTRAINT Paciente_PK PRIMARY KEY
	(PACIENTE_ID)
GO

ALTER TABLE ADMISIONISTA_HOSPITAL ADD CONSTRAINT ADMISIONISTA_HOSPITAL_PK PRIMARY KEY
	(codAdmiD)
GO

ALTER TABLE Cita ADD CONSTRAINT Cita_PK PRIMARY KEY
	(numeroCita)
GO

ALTER TABLE Especialista ADD CONSTRAINT Especialista_PK PRIMARY KEY
	(codigoEspecialista)
GO

ALTER TABLE Departamento ADD CONSTRAINT Departamento_PK PRIMARY KEY
	(DEPARTAMENTO_ID)
GO

ALTER TABLE PRODUCTO_FARMACEUTICO ADD CONSTRAINT PRODUCTO_FARMACEUTICO_PK PRIMARY KEY
	(codigoMedicamento)
GO

ALTER TABLE Vacuna ADD CONSTRAINT Vacuna_PK PRIMARY KEY
	(codigoVacuna)
GO

ALTER TABLE PRODUCTO_SANITARIO ADD CONSTRAINT PRODUCTO_SANITARIO_PK PRIMARY KEY
	(codigoProductoSan)
GO

ALTER TABLE Diagnostico ADD CONSTRAINT Diagnostico_PK PRIMARY KEY
	(codigoDiagnostico)
GO

ALTER TABLE ADMISIONISTA_HOSPITAL_ORIGEN ADD CONSTRAINT ADMISIONISTA_HOSPITAL_ORIGEN_PK PRIMARY KEY
	(codAdmior)
GO

ALTER TABLE ESTABLECIMIENTO_SALUD ADD CONSTRAINT ESTABLECIMIENTO_SALUD_PK PRIMARY KEY
	(codigoRenaes)
GO

ALTER TABLE Servicio ADD CONSTRAINT Servicio_ESTABLECIMIENTO_SALUD_DESTINO_FK FOREIGN KEY
	(codigoRenaes)
	REFERENCES ESTABLECIMIENTO_SALUD_DESTINO
	(codigoRenaes)
GO

ALTER TABLE ESTABLECIMIENTO_SALUD_DESTINO ADD CONSTRAINT ESTABLECIMIENTO_SALUD_DESTINO_ESTABLECIMIENTO_SALUD_FK FOREIGN KEY
	(codigoRenaes)
	REFERENCES ESTABLECIMIENTO_SALUD
	(codigoRenaes)
GO

ALTER TABLE ESTABLECIMIENTO_SALUD_ORIGEN ADD CONSTRAINT ESTABLECIMIENTO_SALUD_ORIGEN_ESTABLECIMIENTO_SALUD_FK FOREIGN KEY
	(codigoRenaes)
	REFERENCES ESTABLECIMIENTO_SALUD
	(codigoRenaes)
GO

ALTER TABLE RECIEN_NACIDO ADD CONSTRAINT RECIEN_NACIDO_Paciente_FK FOREIGN KEY
	(PACIENTE_ID)
	REFERENCES Paciente
	(PACIENTE_ID)
GO

ALTER TABLE PACIENTE_FEMENINO ADD CONSTRAINT PACIENTE_FEMENINO_Paciente_FK FOREIGN KEY
	(PACIENTE_ID)
	REFERENCES Paciente
	(PACIENTE_ID)
GO

ALTER TABLE Adolescente ADD CONSTRAINT Adolescente_Paciente_FK FOREIGN KEY
	(PACIENTE_ID)
	REFERENCES Paciente
	(PACIENTE_ID)
GO

ALTER TABLE ADMISIONISTA_HOSPITAL ADD CONSTRAINT ADMISIONISTA_HOSPITAL_ESTABLECIMIENTO_SALUD_DESTINO_FK FOREIGN KEY
	(codigoRenaes)
	REFERENCES ESTABLECIMIENTO_SALUD_DESTINO
	(codigoRenaes)
GO

ALTER TABLE Cita ADD CONSTRAINT Cita_Especialista_FK FOREIGN KEY
	(codigoEspecialista)
	REFERENCES Especialista
	(codigoEspecialista)
GO

ALTER TABLE Cita ADD CONSTRAINT Cita_ADMISIONISTA_HOSPITAL_ORIGEN_FK FOREIGN KEY
	(codAdmior)
	REFERENCES ADMISIONISTA_HOSPITAL_ORIGEN
	(codAdmior)
GO

ALTER TABLE Cita ADD CONSTRAINT Cita_ADMISIONISTA_HOSPITAL_FK FOREIGN KEY
	(codAdmiD)
	REFERENCES ADMISIONISTA_HOSPITAL
	(codAdmiD)
GO

ALTER TABLE Cita ADD CONSTRAINT Cita_Paciente_FK FOREIGN KEY
	(PACIENTE_ID)
	REFERENCES Paciente
	(PACIENTE_ID)
GO

ALTER TABLE Especialista ADD CONSTRAINT Especialista_Departamento_FK FOREIGN KEY
	(DEPARTAMENTODEPARTAMENTO_ID)
	REFERENCES Departamento
	(DEPARTAMENTO_ID)
GO

ALTER TABLE PRODUCTO_FARMACEUTICO ADD CONSTRAINT PRODUCTO_FARMACEUTICO_Cita_FK FOREIGN KEY
	(numeroCita)
	REFERENCES Cita
	(numeroCita)
GO

ALTER TABLE Vacuna ADD CONSTRAINT Vacuna_Cita_FK FOREIGN KEY
	(numeroCita)
	REFERENCES Cita
	(numeroCita)
GO

ALTER TABLE PRODUCTO_SANITARIO ADD CONSTRAINT PRODUCTO_SANITARIO_Cita_FK FOREIGN KEY
	(numeroCita)
	REFERENCES Cita
	(numeroCita)
GO

ALTER TABLE Diagnostico ADD CONSTRAINT Diagnostico_Cita_FK FOREIGN KEY
	(numeroCita)
	REFERENCES Cita
	(numeroCita)
GO

ALTER TABLE ADMISIONISTA_HOSPITAL_ORIGEN ADD CONSTRAINT ADMISIONISTA_HOSPITAL_ORIGEN_ESTABLECIMIENTO_SALUD_ORIGEN_FK FOREIGN KEY
	(codigoRenaes)
	REFERENCES ESTABLECIMIENTO_SALUD_ORIGEN
	(codigoRenaes)
GO
